function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var queue=[];function getContext(){var e=getCurrentPages();return e[e.length-1]}var Dialog=function(e){return new Promise(function(t,n){var o=(e.context||getContext()).selectComponent(e.selector);delete e.selector,o?(o.setData(_extends({onCancel:n,onConfirm:t},e)),queue.push(o)):console.warn("未找到 van-dialog 节点，请确认 selector 及 context 是否正确")})};Dialog.defaultOptions={show:!0,title:"",message:"",zIndex:100,overlay:!0,asyncClose:!1,selector:"#van-dialog",confirmButtonText:"确认",cancelButtonText:"取消",showConfirmButton:!0,showCancelButton:!1,closeOnClickOverlay:!1,confirmButtonOpenType:""},Dialog.alert=function(e){return Dialog(_extends({},Dialog.currentOptions,e))},Dialog.confirm=function(e){return Dialog(_extends({},Dialog.currentOptions,{showCancelButton:!0},e))},Dialog.close=function(){queue.forEach(function(e){e.close()}),queue=[]},Dialog.stopLoading=function(){queue.forEach(function(e){e.stopLoading()})},Dialog.setDefaultOptions=function(e){Object.assign(Dialog.currentOptions,e)},Dialog.resetDefaultOptions=function(){Dialog.currentOptions=_extends({},Dialog.defaultOptions)},Dialog.resetDefaultOptions();export default Dialog;